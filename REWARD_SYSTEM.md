# 強化獎勵系統說明

## 🎯 系統概述

本次更新大幅強化了挖礦獎勵系統，新增了多種獎勵機制和遊戲化元素，讓挖礦體驗更加豐富有趣。

## 🚀 新增功能

### 1. 用戶等級系統
- **等級提升**：每小時挖礦獲得100經驗值
- **等級要求**：每級需要 1000 × 等級 的經驗值
- **等級獎勵**：升級時獲得 等級 × 1000 原礦獎勵
- **等級加成**：每級增加10%的挖礦獎勵

### 2. 連續挖礦獎勵
- **連續天數**：記錄用戶連續挖礦的天數
- **每日加成**：連續挖礦每天增加5%獎勵
- **成就獎勵**：連續挖礦7天可獲得"連續挖礦者"成就

### 3. 特殊事件系統
- **隨機觸發**：每個礦場都有5%機率觸發特殊事件
- **獎勵倍數**：特殊事件可獲得1.5-3倍的獎勵
- **即時通知**：特殊事件發生時會立即通知用戶

### 4. 成就系統
- **新手礦工**：完成第一次挖礦 (獎勵1000原礦)
- **勤勞礦工**：累計挖礦時間達到10小時 (獎勵5000原礦)
- **資深礦工**：累計挖礦時間達到100小時 (獎勵50000原礦)
- **連續挖礦者**：連續挖礦7天 (獎勵10000原礦)
- **等級達人**：達到10級 (獎勵20000原礦)

### 5. 礦場等級限制
- **新手礦場**：等級1+ (倍率15x)
- **進階礦場**：等級5+ (倍率25x)
- **專家礦場**：等級10+ (倍率40x)
- **傳說礦場**：等級20+ (倍率60x)

## 📊 獎勵計算公式

```
總獎勵 = 基礎獎勵 × 礦場倍率 × 等級加成 × 連續挖礦加成 × 特殊事件加成 × 獎勵倍數

其中：
- 基礎獎勵：5000原礦/小時
- 等級加成：1.0 + (等級-1) × 0.1
- 連續挖礦加成：1.0 + 連續天數 × 0.05
- 特殊事件加成：1.5-3.0 (隨機)
```

## 🎮 遊戲化元素

### 經驗值系統
- 每小時挖礦獲得100經驗值
- 經驗值進度條顯示當前升級進度
- 升級時有特殊提示和獎勵

### 成就展示
- 成就列表顯示已達成的成就
- 每個成就都有圖標和描述
- 成就獎勵會自動發放到用戶餘額

### 礦場等級限制
- 高級礦場需要達到相應等級才能進入
- 等級不足時會顯示鎖定狀態
- 鼓勵用戶持續挖礦提升等級

## 🔧 技術改進

### 數據庫結構
- 新增用戶等級、經驗值、總挖礦時間等字段
- 新增成就系統相關表
- 新增礦場等級要求和特殊事件機率

### 前端界面
- 用戶信息面板顯示等級和經驗值
- 成就系統展示區域
- 獎勵歷史增加描述欄位
- 礦場卡片顯示等級要求

### 後端邏輯
- 獎勵計算函數支持多種加成
- 等級提升和成就檢查機制
- 連續挖礦天數更新邏輯
- 特殊事件隨機觸發系統

## 🎯 使用指南

1. **註冊登錄**：新用戶註冊後從1級開始
2. **選擇礦場**：根據等級選擇合適的礦場
3. **開始挖礦**：系統會自動記錄挖礦時間和經驗值
4. **查看進度**：在用戶信息面板查看等級和經驗值進度
5. **達成成就**：完成特定條件後自動獲得成就獎勵
6. **升級獎勵**：升級時會自動獲得獎勵並通知

## 📈 獎勵對比

### 舊系統
- 基礎獎勵：3600原礦/小時
- 簡單倍率：10-30x

### 新系統
- 基礎獎勵：5000原礦/小時
- 多重加成：等級+連續挖礦+特殊事件
- 實際獎勵：可達到原系統的3-5倍

## 🎉 總結

新的獎勵系統通過多層次的獎勵機制和遊戲化元素，大幅提升了用戶的挖礦體驗和參與度。用戶不僅可以獲得更多獎勵，還能通過等級提升和成就達成獲得成就感。 